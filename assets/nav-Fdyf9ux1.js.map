{"version":3,"file":"nav-Fdyf9ux1.js","sources":["../../src/js/models/base-api-response.js","../../src/js/models/filter-models.js","../../src/js/models/exercise-models.js","../../src/js/models/quote-model.js","../../src/js/utils/errorHandler.js","../../src/js/your-energy-api.js","../../src/js/components/scroll-up-button.js","../../src/js/components/loader.js","../../src/img/svg/sprite.svg","../../src/js/helpers.js","../../src/js/storage.js","../../src/js/modal.js","../../src/js/exercises.js","../../src/js/main.js","../../src/js/subscription.js","../../src/js/nav.js"],"sourcesContent":["/**\n * BaseApiResponse class\n * This class is used to represent the base structure of an API response.\n * It contains properties for pagination and results.\n *\n * @class\n * @param {Object} response - The API response object.\n * @param {Array} response.results - The array of results.\n * @param {number} response.page - The current page number.\n * @param {number} response.perPage - The number of items per page.\n * @param {number} response.totalPages - The total number of pages.\n * @property {Array} results - The array of results.\n * @property {number} page - The current page number.\n * @property {number} perPage - The number of items per page.\n * @property {number} totalPages - The total number of pages.\n */\nclass BaseApiResponse {\n  constructor(response){\n    this.page = response.page;\n    this.perPage = response.perPage;\n    this.totalPages = response.totalPages;\n    this.results = response.results;\n  }\n}\n\nexport default BaseApiResponse;","import BaseApiResponse from './base-api-response.js';\n\n/**\n * Class representing a filter model.\n * @class\n * @param {string} filter - The filter type.\n * @param {string} name - The name of the filter.\n * @param {string} imgURL - The URL of the filter image.\n * @property {string} filter - The filter type.\n * @property {string} name - The name of the filter.\n * @property {string} imgURL - The URL of the filter image.\n */\nclass FilterModel {\n  constructor(filter, name, imgURL) {\n    this.filter = filter;\n    this.name = name;\n    this.imgURL = imgURL;\n  }\n}\n\n/**\n * Class representing a filter request.\n * @class\n * @param {string} filter - The filter type.\n * @param {number} page - The current page number.\n * @param {number} limit - The number of items per page.\n * @property {string} filter - The filter type.\n * @property {number} page - The current page number.\n * @property {number} limit - The number of items per page.\n */\nclass FilterRequest {\n    constructor(filter, page, limit) {\n        this.filter = filter;\n        this.page = page;\n        this.limit = limit;\n    }\n}\n\n/**\n * Class representing a filter response.\n * @class\n * @param {Object} response - The API response object.\n * @param {Array} response.data.results - The array of filter results.\n * @param {number} response.data.page - The current page number.\n * @param {number} response.data.perPage - The number of items per page.\n * @param {number} response.data.totalPages - The total number of pages.\n * @property {Array} filters - The array of FilterModel instances.\n * @property {number} page - The current page number.\n * @property {number} perPage - The number of items per page.\n * @property {number} totalPages - The total number of pages.\n */\nclass FilterResponse extends BaseApiResponse{\n    constructor(response) {\n        super(response);\n    }\n\n    /**\n     * Get the array of FilterModel instances.\n     * @returns {Array} The array of FilterModel instances.\n     */\n    getFilters() {\n      return this.results.map(filter => new FilterModel(filter.filter, filter.name, filter.imgURL));\n    }\n}\n\nexport { FilterModel, FilterRequest, FilterResponse };","import BaseApiResponse from './base-api-response.js';\n\n/**\n * Class representing an exercise filter.\n * @class\n * @param {string} bodypart - The body part to filter exercises by.\n * @param {string} muscles - The muscles to filter exercises by.\n * @param {string} equipment - The equipment to filter exercises by.\n * @param {string} keyword - The keyword to search exercises by.\n * @param {number} [page=1] - The current page number.\n * @param {number} [limit=10] - The number of items per page.\n * @property {string} bodypart - The body part to filter exercises by.\n * @property {string} muscles - The muscles to filter exercises by.\n * @property {string} equipment - The equipment to filter exercises by.\n * @property {string} keyword - The keyword to search exercises by.\n * @property {number} page - The current page number.\n * @property {number} limit - The number of items per page.\n */\nclass ExerciseFilter {\n  constructor(bodypart, muscles, equipment, keyword, page = 1, limit = 10) {\n    this.bodypart = bodypart;\n    this.muscles = muscles;\n    this.equipment = equipment;\n    this.keyword = keyword;\n    this.page = page;\n    this.limit = limit;\n  }\n}\n\n/**\n * Class representing an exercise model.\n * @class\n * @param {Object} result - The exercise data object.\n * @param {string} result._id - The unique ID of the exercise.\n * @param {string} result.bodyPart - The body part targeted by the exercise.\n * @param {string} result.equipment - The equipment used for the exercise.\n * @param {string} result.gifUrl - The URL of the exercise GIF.\n * @param {string} result.name - The name of the exercise.\n * @param {string} result.target - The target muscle group.\n * @param {string} result.description - The description of the exercise.\n * @param {number} result.rating - The rating of the exercise.\n * @param {number} result.burnedCalories - The calories burned by the exercise.\n * @param {number} result.time - The time required for the exercise.\n * @param {number} result.popularity - The popularity score of the exercise.\n * @property {string} id - The unique ID of the exercise.\n * @property {string} bodyPart - The body part targeted by the exercise.\n * @property {string} equipment - The equipment used for the exercise.\n * @property {string} gifUrl - The URL of the exercise GIF.\n * @property {string} name - The name of the exercise.\n * @property {string} target - The target muscle group.\n * @property {string} description - The description of the exercise.\n * @property {number} rating - The rating of the exercise.\n * @property {number} burnedCalories - The calories burned by the exercise.\n * @property {number} time - The time required for the exercise.\n * @property {number} popularity - The popularity score of the exercise.\n */\nclass ExerciseModel {\n  constructor(result) {\n    this.id = result._id;\n    this.bodyPart = result.bodyPart;\n    this.equipment = result.equipment;\n    this.gifUrl = result.gifUrl;\n    this.name = result.name;\n    this.target = result.target;\n    this.description = result.description;\n    this.rating = result.rating;\n    this.burnedCalories = result.burnedCalories;\n    this.time = result.time;\n    this.popularity = result.popularity;\n  }\n}\n\n/**\n * Class representing an exercise response.\n * @class\n * @extends BaseApiResponse\n * @param {Object} response - The API response object.\n * @param {Array} response.data.results - The array of exercise results.\n * @param {number} response.data.page - The current page number.\n * @param {number} response.data.perPage - The number of items per page.\n * @param {number} response.data.totalPages - The total number of pages.\n * @property {Array} results - The array of exercise results.\n * @property {number} page - The current page number.\n * @property {number} perPage - The number of items per page.\n * @property {number} totalPages - The total number of pages.\n */\nclass ExerciseResponse extends BaseApiResponse {\n  constructor(response) {\n    super(response);\n  }\n\n  /**\n   * Get the array of ExerciseModel instances.\n   * @returns {Array<ExerciseModel>} The array of ExerciseModel instances.\n   */\n  getExercises() {\n    return this.results.map(exercise => new ExerciseModel(exercise));\n  }\n}\n\n/**\n * Class representing an exercise rating patch request.\n * @class\n * @param {number} rate - The rating for the exercise.\n * @param {string} email - The email of the user.\n * @param {string} review - The review text for the exercise.\n * @property {number} rate - The rating for the exercise.\n * @property {string} email - The email of the user.\n * @property {string} review - The review text for the exercise.\n */\nclass ExerciseRatingPatchRequest {\n  constructor(rate, email, review) {\n    this.rate = rate;\n    this.email = email;\n    this.review = review;\n  }\n}\n\nexport { ExerciseFilter, ExerciseModel, ExerciseResponse, ExerciseRatingPatchRequest };","/**\n * QuoteModel\n * Represents a quote model.\n *\n * @class\n * @param {Object} response - The API response object.\n * @param {string} response.quote - The quote text.\n * @param {string} response.author - The author of the quote.\n * @property {string} quote - The quote text.\n * @property {string} author - The author of the quote.\n */\nclass QuoteModel {\n  constructor(response) {\n    this.quote = response.quote;\n    this.author = response.author;\n  }\n}\n\nexport default QuoteModel;","import iziToast from 'izitoast';\n\nfunction handleApiError(error) {\n  if (error.response) {\n    switch (error.response.status) {\n      case 400:\n        iziToast.warning({\n          message: 'Bad request: invalid request body.',\n          position: 'topCenter'\n        });\n        break;\n      case 404:\n        iziToast.error({\n          message: 'Endpoint not found.',\n          position: 'topCenter'\n        });\n        break;\n      case 409:\n        iziToast.warning({\n          message: 'You are already subscribed.',\n          position: 'topCenter'\n        });\n        break;\n      case 500:\n        iziToast.error({\n          message: 'Server error: please try again later.',\n          position: 'topCenter'\n        });\n        break;\n      default:\n        iziToast.error({\n          message: 'Unknown server error occurred.',\n          position: 'topCenter'\n        });\n    }\n  } else {\n    iziToast.error({\n      message: 'Unexpected error. Please check your connection and try again.'\n    });\n  }\n\n  console.error('API Error:', error);\n  throw error;\n}\n\nexport default handleApiError;\n","import axios from 'axios';\nimport { FilterRequest, FilterResponse } from './models/filter-models.js';\nimport { ExerciseFilter, ExerciseModel, ExerciseResponse } from './models/exercise-models.js';\nimport QuoteModel from './models/quote-model.js';\nimport handleApiError from './utils/errorHandler.js'\n\nconst API_URL = 'https://your-energy.b.goit.study/api';\n\n/**\n * YourEnergyAPI class\n * This class is used to interact with the Your Energy API.\n */\nclass YourEnergyAPI {\n  constructor() {\n    this._api = axios.create({\n      baseURL: API_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  /**\n   * Fetches filters from the API.\n   * @param {FilterRequest} filterRequest\n   * @returns {Promise<FilterResponse>}\n   */\n  async fetchFilters(filterRequest) {\n    try {\n      const response = await this._api.get('/filters', {\n        params: filterRequest,\n      });\n      return new FilterResponse(response.data);\n    } catch (error) {\n      console.error('Error fetching filters:', error);\n      handleApiError(error);\n    }\n  }\n\n  /**\n   * Fetches exercises by filter from the API.\n   * @param {ExerciseFilter} exerciseFilter\n   * @returns {Promise<ExerciseResponse>}\n   */\n  async fetchExercisesByFilter(exerciseFilter) {\n    try {\n      const response = await this._api.get('/exercises', {\n        params: exerciseFilter,\n      });\n      return new ExerciseResponse(response.data);\n    } catch (error) {\n      console.error('Error fetching exercises by filter:', error);\n      handleApiError(error);\n    }\n  }\n\n  /**\n   * Fetches exercises by ID from the API.\n   * @param {string} id\n   * @returns {Promise<ExerciseModel>}\n   */\n  async fetchExercisesById(id) {\n    try {\n      const response = await this._api.get(`/exercises/${id}`);\n      return new ExerciseModel(response.data);\n    } catch (error) {\n      console.error('Error fetching exercises by ID:', error);\n      handleApiError(error);\n    }\n  }\n\n  /**\n   * Updates exercise rating by ID.\n   * @param {string} id\n   * @param {ExerciseRatingPatchRequest} request\n   * @returns {Promise<ExerciseModel>}\n   */\n  async patchExerciseRating(id, request) {\n    try {\n      const response = await this._api.patch(`/exercises/${id}/rating`, request);\n      return new ExerciseModel(response.data);\n    } catch (error) {\n      console.error('Error updating exercise rating:', error);\n      handleApiError(error);\n    }\n  }\n\n  /**\n   * Fetches the quote of the day from the API.\n   * @returns {Promise<QuoteModel>}\n   */\n  async fetchQuoteOfTheDay() {\n    try {\n      const response = await this._api.get('/quote');\n      return new QuoteModel(response.data);\n    } catch (error) {\n      console.error('Error fetching quote of the day:', error);\n      handleApiError(error);\n    }\n  }\n\n  /**\n   * Posts a subscription to the API.\n   * @param email\n   * @returns {Promise<string>} success message\n   */\n  async postSubscription(email) {\n    try {\n      const response = await this._api.post('/subscription', { email });\n      return response.data.message;\n    } catch (error) {\n      console.error('Error posting subscription:', error);\n      handleApiError(error);\n    }\n  }\n}\n\nconst yourEnergyAPI = new YourEnergyAPI();\nexport default yourEnergyAPI;","import '../../css/scroll-up.css';\n\nexport function createScrollUpButton() {\n  const button = document.createElement('button');\n  button.id = 'scrollUpBtn';\n  button.title = 'Up';\n  button.innerHTML = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\">\n      <path d=\"M12 4L12 20\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      <path d=\"M5 11L12 4L19 11\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n    </svg>\n  `;\n\n  document.body.appendChild(button);\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      button.classList.add('show');\n    } else {\n      button.classList.remove('show');\n    }\n  });\n\n  button.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n}\n","import '../../css/loader.css';\n\nexport class Loader {\n  constructor() {\n    this.backdrop = document.createElement('div');\n    this.backdrop.className = 'loader-backdrop';\n    this.backdrop.innerHTML = `<div class=\"loader\"></div>`;\n  }\n\n  show() {\n    if (!document.body.contains(this.backdrop)) {\n      document.body.appendChild(this.backdrop);\n    }\n  }\n\n  hide() {\n    if (document.body.contains(this.backdrop)) {\n      document.body.removeChild(this.backdrop);\n    }\n  }\n}\n","export default \"__VITE_ASSET__D1wTGdfQ__\"","function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport { capitalizeFirstLetter };","const FAVORITES_KEY = 'favorites';\n\nexport function getFavorites() {\n  try {\n    return JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];\n  } catch (error) {\n    return [];\n  }\n}\n\nexport function toggleFavorite(exerciseId) {\n  if (!exerciseId) return;\n  const favorites = getFavorites();\n  const index = favorites.indexOf(exerciseId);\n\n  if (index >= 0) {\n    favorites.splice(index, 1);\n  } else {\n    favorites.push(exerciseId);\n  }\n\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n}\n","import { getFavorites, toggleFavorite } from './storage.js';\nimport yourEnergyAPI from './your-energy-api.js';\nimport { ExerciseRatingPatchRequest } from './models/exercise-models.js';\nimport iziToast from 'izitoast';\n\nconst SELECTORS = {\n  closeModalButton: '[data-modal-close]',\n  modalContainer: '[data-modal]',\n  exerciseModal: '.modal',\n  ratingModal: '.add-rating-modal',\n  addToFavoritesButton: '.btn-modal-add-fav',\n  imgModalExercise: '.img-modal-exercise',\n  titleModal: '.title-modal',\n  ratingValue: '.rating-value',\n  statsList: '.stats-list',\n  descText: '.desc-text',\n  btnFavText: '.btn-fav-text',\n  iconFavBtnUse: '.icon-fav-btn-use',\n  openRatingModalButton: '[data-add-rating-open]',\n  closeRatingModalButton: '[data-add-rating-close]',\n  ratingForm: '.add-rating-form',\n  addRatingValue: '.add-rating-value',\n  iconModalRatingStar: '.icon-modal-rating-star',\n  addRatingRadioBtn: '.add-rating-radio-btn',\n  openModalButtons: '[data-modal-open]',\n  ratingStars: '.rating-stars',\n};\n\nconst CLASS_NAMES = {\n  visuallyHidden: 'visually-hidden',\n  favAdded: 'fav-added',\n  modalOpen: 'modal-open',\n  gold: 'gold',\n};\n\nconst closeModalButton = document.querySelector(SELECTORS.closeModalButton);\nconst modalContainer = document.querySelector(SELECTORS.modalContainer);\nconst exerciseModal = document.querySelector(SELECTORS.exerciseModal);\nconst ratingModal = document.querySelector(SELECTORS.ratingModal);\nconst addToFavoritesButton = document.querySelector(\n  SELECTORS.addToFavoritesButton,\n);\n\nlet currentExerciseId = null;\n\nasync function loadModalData(exerciseId) {\n  currentExerciseId = exerciseId;\n  const exerciseData = await yourEnergyAPI.fetchExercisesById(exerciseId);\n  updateModalContent(exerciseData);\n  updateFavoriteButtonState();\n  addFavoriteButtonListener();\n\n  modalContainer.classList.toggle(CLASS_NAMES.visuallyHidden);\n  handleModalOpen();\n  initRatingForm();\n}\n\nfunction clearModalContent() {\n  document.querySelector(SELECTORS.imgModalExercise).src = '';\n  document.querySelector(SELECTORS.titleModal).textContent = '';\n  document.querySelector(SELECTORS.ratingValue).textContent = '0';\n  document.querySelector(SELECTORS.statsList).innerHTML = '';\n  document.querySelector(SELECTORS.descText).textContent = '';\n}\n\nfunction updateModalContent(exerciseData) {\n  clearModalContent();\n  document.querySelector(SELECTORS.imgModalExercise).src = exerciseData.gifUrl;\n  document.querySelector(SELECTORS.titleModal).textContent =\n    exerciseData.name.trim();\n  document.querySelector(SELECTORS.descText).textContent =\n    exerciseData.description.trim();\n  document.querySelector(SELECTORS.ratingValue).textContent =\n    exerciseData.rating;\n\n  updateStarRating(exerciseData.rating);\n  updateStats(exerciseData);\n}\n\nfunction updateStats(exerciseData) {\n  const statsList = document.querySelector(SELECTORS.statsList);\n  statsList.innerHTML = '';\n\n  let statsHTML = '';\n  if (exerciseData.target)\n    statsHTML += createStatItem('Target', exerciseData.target);\n  if (exerciseData.bodyPart)\n    statsHTML += createStatItem('BodyPart', exerciseData.bodyPart);\n  if (exerciseData.equipment)\n    statsHTML += createStatItem('Equipment', exerciseData.equipment);\n  if (exerciseData.popularity)\n    statsHTML += createStatItem('Popular', exerciseData.popularity);\n  if (exerciseData.burnedCalories)\n    statsHTML += createStatItem(\n      'Burned Calories',\n      `${exerciseData.burnedCalories}/${exerciseData.time} min`,\n    );\n\n  statsList.insertAdjacentHTML('beforeend', statsHTML);\n}\n\nfunction createStatItem(title, value) {\n  return `<li class=\"stats-item\">\n    <p class=\"stats-title\">${title}</p>\n    <p class=\"stats-value\">${value}</p>\n  </li>`;\n}\n\nfunction updateFavoriteButtonState() {\n  const isFavorite = getFavorites().includes(currentExerciseId);\n  addToFavoritesButton.classList.toggle(CLASS_NAMES.favAdded, isFavorite);\n  document.querySelector(SELECTORS.btnFavText).textContent = isFavorite\n    ? 'Remove from favorites'\n    : 'Add to favorites';\n\n  document\n    .querySelector(SELECTORS.iconFavBtnUse)\n    .setAttribute('href', `./img/svg/sprites.svg#${isFavorite ? 'trash-bin' : 'heart'}`);\n}\n\nfunction addFavoriteButtonListener() {\n  addToFavoritesButton.addEventListener('click', event => {\n    const button = event.currentTarget;\n    button.classList.toggle(CLASS_NAMES.favAdded);\n\n    toggleFavorite(currentExerciseId);\n    updateFavoriteButtonState();\n    event.stopImmediatePropagation();\n  });\n}\n\nfunction handleModalOpen() {\n  document.addEventListener('keydown', handleEscapeKey);\n  document.body.classList.add(CLASS_NAMES.modalOpen);\n}\n\nfunction handleModalClose() {\n  document.removeEventListener('keydown', handleEscapeKey);\n  document.body.classList.remove(CLASS_NAMES.modalOpen);\n  currentExerciseId = null;\n}\n\nfunction handleEscapeKey(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  ratingModal.classList.add(CLASS_NAMES.visuallyHidden);\n  exerciseModal.classList.remove(CLASS_NAMES.visuallyHidden);\n  modalContainer.classList.add(CLASS_NAMES.visuallyHidden);\n  handleModalClose();\n}\n\ncloseModalButton.addEventListener('click', closeModal);\nmodalContainer.addEventListener('click', event => {\n  const isInModal =\n    checkTapInRect(event, exerciseModal.getBoundingClientRect()) ||\n    checkTapInRect(event, ratingModal.getBoundingClientRect());\n\n  if (!isInModal) closeModal();\n  event.stopImmediatePropagation();\n});\n\nfunction checkTapInRect(event, rect) {\n  return (\n    rect.top <= event.clientY &&\n    event.clientY <= rect.top + rect.height &&\n    rect.left <= event.clientX &&\n    event.clientX <= rect.left + rect.width\n  );\n}\n\nfunction initRatingForm() {\n  const openRatingModalButton = document.querySelector(\n    SELECTORS.openRatingModalButton,\n  );\n  document.querySelector(SELECTORS.addRatingValue).textContent = '0';\n\n  openRatingModalButton.addEventListener('click', event => {\n    ratingModal.classList.remove(CLASS_NAMES.visuallyHidden);\n    exerciseModal.classList.add(CLASS_NAMES.visuallyHidden);\n    handleModalOpen();\n    loadRatingModal();\n    event.stopImmediatePropagation();\n  });\n\n  const closeRatingModalButton = document.querySelector(\n    SELECTORS.closeRatingModalButton,\n  );\n  closeRatingModalButton.addEventListener('click', event => {\n    ratingModal.classList.add(CLASS_NAMES.visuallyHidden);\n    exerciseModal.classList.remove(CLASS_NAMES.visuallyHidden);\n    clearRatingForm(ratingModal.querySelector('form'));\n    event.stopImmediatePropagation();\n  });\n\n  function loadRatingModal() {\n    const ratingRadioButtons = document.querySelectorAll(\n      SELECTORS.addRatingRadioBtn,\n    );\n\n    ratingRadioButtons.forEach(button => {\n      button.addEventListener('click', event => {\n        const rating = Number(event.currentTarget.value);\n        document.querySelector(\n          SELECTORS.addRatingValue,\n        ).textContent = `${rating}`;\n        document\n          .querySelectorAll(SELECTORS.iconModalRatingStar)\n          .forEach((star, index) => {\n            star.classList.toggle(CLASS_NAMES.gold, index < rating);\n          });\n        event.stopImmediatePropagation();\n      });\n    });\n  }\n\n  document\n    .querySelector(SELECTORS.ratingForm)\n    .addEventListener('submit', ratingSubmitListener);\n}\n\nfunction clearRatingForm(form) {\n  form.elements.email.value = '';\n  form.elements.comment.value = '';\n  form.elements.radio.forEach(radio => (radio.checked = false));\n  document.querySelector(SELECTORS.addRatingValue).textContent = '0';\n  document\n    .querySelectorAll(SELECTORS.iconModalRatingStar)\n    .forEach(star => star.classList.remove(CLASS_NAMES.gold));\n}\n\nasync function ratingSubmitListener(event) {\n  event.preventDefault();\n\n  const rate = parseInt(\n    document.querySelector(SELECTORS.addRatingValue).textContent ?? '0',\n  );\n  const form = event.target;\n  const email = form.elements.email.value;\n  const review = form.elements.comment.value;\n\n  let notification = new Notification();\n  if (!rate) {\n    notification.warning('Choose your rating');\n  } else if (!email) {\n    notification.warning('Enter your email');\n  } else if (!review) {\n    notification.warning('Leave a comment');\n  } else {\n    const request = new ExerciseRatingPatchRequest(rate, email, review);\n    const nextExercise = await yourEnergyAPI.patchExerciseRating(\n      currentExerciseId,\n      request,\n    );\n    clearRatingForm(form);\n    notification.success('Rating successfully updated');\n    ratingModal.classList.add(CLASS_NAMES.visuallyHidden);\n    exerciseModal.classList.remove(CLASS_NAMES.visuallyHidden);\n\n    updateModalContent(nextExercise);\n  }\n  event.stopImmediatePropagation();\n}\n\n// Open Modal\nexport function initModalListeners() {\n  const openModalButtons = document.querySelectorAll(\n    SELECTORS.openModalButtons,\n  );\n  openModalButtons.forEach(button => {\n    button.addEventListener('click', event => {\n      loadModalData(event.currentTarget.value);\n    });\n  });\n}\n\nfunction updateStarRating(rating) {\n  const starContainer = document.querySelector(SELECTORS.ratingStars);\n  starContainer.innerHTML = '';\n  starContainer.append(...addStars(5, rating));\n}\n\nfunction addStars(starsCount, rating) {\n  const elements = [];\n  for (let i = 0; i < starsCount; i++) {\n    const percent = Math.min(100, Math.max(0, (rating - i) * 100));\n\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('width', '18');\n    svg.setAttribute('height', '18');\n    svg.setAttribute('class', 'icon icon-modal-star');\n\n    const gradientId = `gradient-${i}-${percent}`;\n    svg.innerHTML = `\n      <defs>\n        <linearGradient id=\"${gradientId}\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"${percent}%\" stop-color=\"var(--color-accent)\" />\n          <stop offset=\"${percent}%\" stop-color=\"var(--color-rating)\" />\n        </linearGradient>\n      </defs>\n      <use href=\"./img/svg/sprites.svg#star\" fill=\"url(#${gradientId})\"></use>\n    `;\n\n    elements.push(svg);\n  }\n\n  return elements;\n}\n\nclass Notification {\n  warning(message) {\n    iziToast.warning({\n      message: message,\n      position: 'topCenter',\n    });\n  }\n\n  success(message) {\n    iziToast.success({\n      message: message,\n      position: 'topCenter',\n    });\n  }\n\n  error(message) {\n    iziToast.error({\n      message: message,\n      position: 'topCenter',\n    });\n  }\n}\n\n","import icons from '../img/svg/sprite.svg';\nimport yourEnergyAPI from './your-energy-api.js';\nimport { FilterRequest } from './models/filter-models.js';\nimport { capitalizeFirstLetter } from './helpers.js';\nimport { ExerciseFilter } from './models/exercise-models.js';\nimport { initModalListeners } from './modal.js';\n\nclass ExerciseFilterElement {\n  constructor() {\n    this._element = document.createElement('li');\n    this._element.classList.add('exercises-filters__item');\n    this._image = document.createElement('img');\n    this._image.classList.add('exercises-filters__image');\n    this._image.setAttribute('loading', 'lazy');\n    this._overlay = document.createElement('div');\n    this._overlay.classList.add('exercises-filters__overlay');\n    this._overlayTitle = document.createElement('h5');\n    this._overlayText = document.createElement('p');\n    this._overlayText.classList.add('exercises-filters__overlay-text');\n  }\n\n  setImage(src) {\n    this._image.src = src;\n  }\n\n  setTitle(title) {\n    this._overlayTitle.textContent = capitalizeFirstLetter(title);\n  }\n\n  setText(text) {\n    this._overlayText.textContent = capitalizeFirstLetter(text);\n  }\n\n  setFilterName(name, filter) {\n    this._element.dataset.name = name;\n    this._element.dataset.filter = filter;\n  }\n\n  setImageAlt(alt) {\n    this._image.alt = alt;\n  }\n\n  build() {\n    this._overlay.append(this._overlayTitle, this._overlayText);\n    this._element.append(this._image, this._overlay);\n    return this._element;\n  }\n}\n\nclass ExerciseElement {\n  constructor() {\n    this._element = document.createElement('li');\n    this._element.classList.add('exercises-list__item');\n\n    this._header = document.createElement('div');\n    this._header.classList.add('exercise-header');\n\n\n    this._nameBlock = document.createElement('h3');\n    this._nameBlock.classList.add('exercise-name');\n\n    this._infoBlock = document.createElement('div');\n    this._infoBlock.classList.add('exercise-info');\n  }\n\n  addHeader(rating, id) {\n    const leftBlock = document.createElement('div');\n    leftBlock.classList.add('exercise-header__left');\n    const workoutName = document.createElement('p');\n    workoutName.classList.add('exercise-workout');\n    workoutName.textContent = 'WORKOUT';\n    leftBlock.append(workoutName);\n    const ratingElement = document.createElement('p');\n    ratingElement.classList.add('exercise-rating');\n    ratingElement.textContent = `${rating}`;\n    const span = document.createElement('span');\n    span.append(this._createSvg('star', 'exercise-rating__icon', 24, 24));\n    ratingElement.append(span);\n    leftBlock.append(ratingElement);\n\n    const startButton = document.createElement('button');\n    startButton.type = 'button';\n    startButton.classList.add('exercise-header__start-button');\n    startButton.classList.add('btn-start');\n    startButton.textContent = 'Start';\n    startButton.value = id;\n    startButton.setAttribute('data-modal-open', '');\n    startButton.append(this._createSvg('exercise-start', 'exercise-arrow', 13, 13));\n    this._header.append(leftBlock, startButton);\n  }\n\n  addName(workoutName) {\n    this._nameBlock.append(this._createSvg('runner', 'exercise-name-icon', 13, 13));\n    this._nameBlock.append(workoutName);\n  }\n\n  addInfo(calories, bodyPart, target) {\n    this._infoBlock.append(this._createInfoTextElement('Burned calories: ', calories));\n    this._infoBlock.append(this._createInfoTextElement('Body part: ', bodyPart));\n    this._infoBlock.append(this._createInfoTextElement('Target: ', target));\n  }\n\n  build() {\n    this._element.append(this._header, this._nameBlock, this._infoBlock);\n    return this._element;\n  }\n\n  setId(_id) {\n    this._element.dataset.id = _id;\n  }\n\n  _createInfoTextElement(title, text, className = 'truncate-text') {\n    const element = document.createElement('p');\n    element.classList.add(className);\n    const titleElement = document.createElement('strong');\n    titleElement.classList.add('exercise-info__title');\n    titleElement.textContent = title;\n    element.append(titleElement);\n    element.append(document.createTextNode(text));\n    return element;\n  }\n\n  _createSvg(iconName, cssClass) {\n    const svgElement = document.createElement('svg');\n    svgElement.classList.add(cssClass);\n    const useElement = document.createElement('use');\n    useElement.setAttribute('href', `${icons}#${iconName}`);\n    svgElement.appendChild(useElement);\n    return svgElement;\n  }\n}\n\nclass ExercisesFilterRenderer {\n  constructor() {\n    this._exercisesFilterParent = document.getElementById('exercises-filters');\n    this._exercisesParent = document.getElementById('exercises-list');\n    if (!this._exercisesFilterParent) {\n      throw new Error('Exercises filter parent element not found');\n    }\n    this._paginationElement = document.querySelector('.exercises-pagination>ul');\n    this._breadcrumbs = document.querySelector('.breadcrumbs');\n    this._searchContainer = document.getElementById('search-container');\n    this._searchInput = this._searchContainer.querySelector('.search-input');\n\n    this._page = 1;\n    this._limit = 12;\n    this._pages = 1;\n    this._elements = [];\n    this._isCategory = false;\n  }\n\n  async init() {\n    this._setPageLimit();\n    await this._fetchFilters();\n    this._renderFilters();\n    this._addEventListeners();\n  }\n\n  _setPageLimit() {\n    this._page = 1;\n    // if mobile\n    if (window.innerWidth <= 768) {\n      this._limit = 9;\n    } else {\n      this._limit = 12;\n    }\n  }\n\n  async _fetchFilters() {\n    const filterButton = this._exercisesFilterParent.querySelector('.exercises-filters__selected');\n    if (!filterButton) {\n      throw new Error('Filter button not found');\n    }\n    const filterName = filterButton.dataset.name;\n    const filterRequest = new FilterRequest(filterName, this._page, this._limit);\n    try {\n      const response = await yourEnergyAPI.fetchFilters(filterRequest);\n      const items = response.getFilters();\n      this._pages = response.totalPages;\n      if (items.length > 0) {\n        this._elements = items.map((item) => {\n          const filterElement = new ExerciseFilterElement();\n          filterElement.setImage(item.imgURL);\n          filterElement.setTitle(item.name);\n          filterElement.setText(item.filter);\n          filterElement.setFilterName(item.name, item.filter);\n          filterElement.setImageAlt(item.name);\n          return filterElement.build();\n        });\n      }\n      this._pages = response.totalPages;\n    } catch (error) {\n      console.error('Error fetching filters:', error);\n    }\n  }\n\n  _renderFilters() {\n    this._exercisesParent.replaceChildren(...this._elements);\n    this._renderPagination();\n    this._addBreadcrumbs();\n    this._isCategory = true;\n    localStorage.removeItem('exerciseFilter');\n    this._searchContainer.classList.add('hidden');\n  }\n\n  async _onCardClick(event) {\n    event.preventDefault();\n    const target = event.target.closest('.exercises-filters__item');\n    if (target) {\n      this._searchContainer.classList.remove('hidden');\n      this._addBreadcrumbs(target.dataset.name);\n      const filterName = target.dataset.name;\n      const filter = target.dataset.filter;\n      const request = this._buildRequest(filterName, filter);\n      localStorage.setItem('exerciseFilter', JSON.stringify(request));\n      await this._loadAndRenderExercises(request);\n      initModalListeners()\n    }\n  }\n\n  async _loadAndRenderExercises(request) {\n    const response = await yourEnergyAPI.fetchExercisesByFilter(request);\n    this._renderExercises(response);\n    this._renderPagination();\n    this._isCategory = false;\n  }\n\n  _addBreadcrumbs(breadcrumb = null) {\n    if (this._breadcrumbs.children.length > 1 || !breadcrumb && this._breadcrumbs.children.length > 1) {\n      this._breadcrumbs.children[1].remove();\n    }\n\n    if (!breadcrumb) {\n      return;\n    }\n\n    const breadcrumbElement = document.createElement('li');\n    breadcrumbElement.classList.add('breadcrumbs__item');\n    const item = document.createElement('span');\n    item.textContent = '/';\n    breadcrumbElement.append(item);\n    breadcrumbElement.append(capitalizeFirstLetter(breadcrumb));\n    this._breadcrumbs.append(breadcrumbElement);\n  }\n\n  _renderPagination() {\n    const items = [];\n    const dots = document.createElement('li');\n    dots.classList.add('exercises-pagination__dots');\n    dots.textContent = '...';\n    const renderItem = (cssClass, page, svgClass, svgIcon) => {\n      const item = document.createElement('li');\n      item.classList.add('exercises-pagination__item');\n      item.classList.add(cssClass);\n      item.classList.add('exercises-pagination__arrow');\n      item.dataset.page = page;\n      if (this._page === page) {\n        item.classList.add('disabled');\n      }\n      const svgElement = document.createElement('svg');\n      svgElement.classList.add(svgClass);\n      const useElement = document.createElement('use');\n      useElement.setAttribute('href', `${icons}#${svgIcon}`);\n      svgElement.appendChild(useElement);\n      item.append(svgElement);\n      return item;\n    };\n    const renderPreviousButtons = () => {\n      const firstButton = renderItem(\n        'exercises-pagination__beginning',\n        1,\n        'exercises-pagination__beginning__arrow',\n        'pagination-left-double-arrow');\n      const previousButton = renderItem(\n        'exercises-pagination__previous',\n        this._page === 1 ? 1 : this._page - 1,\n        'exercises-pagination__arrow',\n        'pagination-left-single-arrow');\n      items.push(firstButton);\n      items.push(previousButton);\n      if (this._page >= 3) {\n        items.push(dots);\n      }\n    };\n\n    const renderNextButtons = () => {\n      const lastButton = renderItem(\n        'exercises-pagination__last',\n        this._pages,\n        'exercises-pagination__arrow',\n        'pagination-right-double-arrow');\n      const nextButton = renderItem(\n        'exercises-pagination__next',\n        this._page === this._pages ? this._pages : this._page + 1,\n        'exercises-pagination__arrow',\n        'pagination-right-single-arrow');\n\n      if (this._page <= this._pages - 2) {\n        items.push(dots);\n      }\n\n      items.push(nextButton);\n      items.push(lastButton);\n    };\n    const renderPaginationItem = (itemsCount, initialPage = 1) => {\n      const list = [];\n      for (let i = initialPage; i <= itemsCount; i++) {\n        const item = document.createElement('li');\n        item.classList.add('exercises-pagination__item');\n        item.classList.add('exercises-pagination__number');\n        if (i === this._page) {\n          item.classList.add('exercises-pagination__current');\n        }\n        item.textContent = i;\n        item.dataset.page = i;\n        list.push(item);\n      }\n\n      return list;\n    };\n\n    if (this._pages <= 3) {\n      items.push(...renderPaginationItem(this._pages));\n    }\n\n    if (this._pages > 3) {\n      renderPreviousButtons();\n      const initialPage = this._page === 1 ? 1 : this._page === this._pages ? this._page - 2 : this._page - 1;\n      const itemsCount = initialPage + 2;\n      items.push(...renderPaginationItem(itemsCount, initialPage));\n      renderNextButtons();\n    }\n\n    this._paginationElement.innerHTML = '';\n    for (const item of items) {\n      this._paginationElement.innerHTML += item.outerHTML;\n    }\n  }\n\n  async _onPageClick(event) {\n    event.preventDefault();\n    const target = event.target.closest('.exercises-pagination__item');\n    if (!target || target.classList.contains('disabled')) {\n      return;\n    }\n\n    const page = parseInt(target.dataset.page);\n    if (!isNaN(page)) {\n      this._page = page;\n    }\n\n    if (this._isCategory) {\n      await this._fetchFilters();\n      this._renderFilters();\n      return;\n    }\n\n    const request = JSON.parse(localStorage.getItem('exerciseFilter'));\n    request.page = this._page;\n    localStorage.setItem('exerciseFilter', JSON.stringify(request));\n    await this._loadAndRenderExercises(request);\n  }\n\n  _renderExercises(data) {\n    this._exercisesParent.innerHTML = '';\n\n    if (!data || !data.results || data.results.length === 0) {\n      this._exercisesParent.innerHTML = '<p>No exercises found.</p>';\n      return;\n    }\n\n    this._pages = data.totalPages;\n    const exercises = data.getExercises();\n\n    this._elements = exercises.map((exercise) => {\n      const exerciseElement = new ExerciseElement();\n      exerciseElement.setId(exercise.id);\n      exerciseElement.addHeader(exercise.rating, exercise.id);\n      exerciseElement.addName(exercise.name);\n      exerciseElement.addInfo(exercise.burnedCalories, exercise.bodyPart, exercise.target);\n      return exerciseElement.build();\n    });\n\n    for (const element of this._elements) {\n      this._exercisesParent.innerHTML += element.outerHTML;\n    }\n  }\n\n  async _onFilterClick(event) {\n    event.preventDefault();\n    this._setPageLimit();\n    // remove active class from all filters\n    const filters = this._exercisesFilterParent.querySelectorAll('.exercises-filters__selected');\n    filters.forEach((filter) => {\n      filter.classList.remove('exercises-filters__selected');\n    });\n    // add active class to the clicked filter\n    event.target.classList.add('exercises-filters__selected');\n    await this._fetchFilters();\n    this._renderFilters();\n  }\n\n  _addEventListeners() {\n    this._exercisesFilterParent.removeEventListener('click', this._onFilterClick.bind(this));\n    this._exercisesFilterParent.addEventListener('click', this._onFilterClick.bind(this));\n\n    this._exercisesParent.removeEventListener('click', this._onCardClick.bind(this));\n    this._exercisesParent.addEventListener('click', this._onCardClick.bind(this));\n\n    this._paginationElement.addEventListener('click', this._onPageClick.bind(this));\n    this._searchContainer.querySelector('.search-button').addEventListener('click', this._onSearchClick.bind(this));\n    this._searchInput.addEventListener('keyup', this._onSearchKeyUp.bind(this));\n  }\n\n  async _onSearchClick(event) {\n    event.preventDefault();\n    const searchValue = this._searchInput.value.trim();\n    if (searchValue) {\n      const request = JSON.parse(localStorage.getItem('exerciseFilter'));\n      request.keyword = searchValue;\n      localStorage.setItem('exerciseFilter', JSON.stringify(request));\n      this._searchInput.value = '';\n      await this._loadAndRenderExercises(request);\n    }\n  }\n\n  async _onSearchKeyUp(event) {\n    event.preventDefault();\n    const searchValue = this._searchInput.value.trim();\n    if (event.key === 'Enter' && searchValue) {\n      await this._onSearchClick(event);\n    }\n  }\n\n  _buildRequest(filterName, filter) {\n    if (filter.toLowerCase() === 'muscles') {\n      return new ExerciseFilter(null, filterName, null, null, this._page, this._limit);\n    } else if (filter.toLowerCase() === 'equipment') {\n      return new ExerciseFilter(null, null, filterName, null, this._page, this._limit);\n    } else if (filter.toLowerCase() === 'body parts') {\n      return new ExerciseFilter(filterName, null, null, null, this._page, this._limit);\n    }\n  }\n}\n\nconst page = new ExercisesFilterRenderer();\nexport { page as ExercisesFilterRenderer };","import yourEnergyAPI from './your-energy-api.js';\nimport { FilterRequest } from './models/filter-models.js';\nimport {\n  ExerciseFilter,\n  ExerciseRatingPatchRequest,\n} from './models/exercise-models.js';\nimport { createScrollUpButton } from './components/scroll-up-button.js';\nimport { Loader } from './components/loader.js';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst loader = new Loader();\n\n// example Filters\nconst filterRequest = new FilterRequest('Body parts', 1, 5);\nloader.show();\nyourEnergyAPI\n  .fetchFilters(filterRequest)\n  .then(response => {\n    console.log('Response:', response);\n    console.log('Filters:', response.getFilters());\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n\n// example Exercises by filter\nconst exerciseFilter = new ExerciseFilter(\n  'back',\n  'lats',\n  'barbell',\n  'pull',\n  1,\n  5\n);\nloader.show();\nyourEnergyAPI\n  .fetchExercisesByFilter(exerciseFilter)\n  .then(response => {\n    console.log('Response:', response);\n    console.log('Exercises:', response.getExercises());\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n// example Exercises by ID\nconst exerciseId = '64f389465ae26083f39b1ab2';\nloader.show();\nyourEnergyAPI\n  .fetchExercisesById(exerciseId)\n  .then(response => {\n    console.log('Response:', response);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n\n// example Exercise patch rating\nconst exerciseRatingRequest = new ExerciseRatingPatchRequest(\n  3,\n  `test${Date.now()}@gmail.com`, // it requires email to be uniq\n  'Great exercise! Very effective.'\n);\nloader.show();\nyourEnergyAPI\n  .patchExerciseRating(exerciseId, exerciseRatingRequest)\n  .then(response => {\n    console.log('Response:', response);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n\n// example Quote\nloader.show();\nyourEnergyAPI\n  .fetchQuoteOfTheDay()\n  .then(response => {\n    console.log('Quote of the Day:', response);\n    console.log('Quote:', response.quote);\n    console.log('Author:', response.author);\n  })\n  .catch(error => {\n    console.error('Error fetching quote:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n\n// example Subscription\nconst email = `sub_test${Date.now()}@gmail.com`; // it requires email to be uniq\nloader.show();\nyourEnergyAPI\n  .postSubscription(email)\n  .then(response => {\n    console.log('Subscription Response:', response);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  })\n  .finally(() => {\n    loader.hide();\n  });\n\n// Scroll Up Button\ndocument.addEventListener('DOMContentLoaded', () => {\n  createScrollUpButton();\n});\n\n\n/// main logic\nimport { ExercisesFilterRenderer } from './exercises.js';\n\n\nExercisesFilterRenderer.init();\n","import yourEnergyAPI from './your-energy-api.js';\nimport handleApiError from './utils/errorHandler.js';\nimport iziToast from 'izitoast';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.getElementById('subscriptionForm');\n  const emailInput = form?.elements?.email;\n\n  const showAlert = message => {\n    iziToast.warning({\n      message: message,\n      position: 'topCenter',\n    });\n  };\n\n  const handleSuccess = message => {\n    iziToast.success({\n      message: message,\n      position: 'topCenter',\n    });\n    emailInput.value = '';\n  };\n\n  form?.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    if (!emailInput.checkValidity()) {\n      showAlert('Please enter a valid email address.');\n      return;\n    }\n\n    const message = await yourEnergyAPI.postSubscription(\n      emailInput.value.trim()\n    );\n    handleSuccess(message);\n  });\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  const navLinks = document.querySelectorAll('.nav-list-link');\n  const footerNavLinks = document.querySelectorAll('.copyright-link');\n  const parts = window.location.pathname\n    .split('/')\n    .filter(s => s && s.length > 0);\n\n  let currentPath;\n  if (parts.length == 0) {\n    currentPath = 'index.html';\n  } else {\n    currentPath = parts[parts.length - 1];\n  }\n\n  navLinks.forEach(link => {\n    if (link.getAttribute('href').endsWith(currentPath)) {\n      link.classList.add('active');\n    }\n  });\n\n  footerNavLinks.forEach(link => {\n    if (link.getAttribute('href').endsWith(currentPath)) {\n      link.classList.add('active');\n    }\n  });\n\n  // if (!document.querySelector('.nav-link.active')) {\n  //   navLinks[0].classList.add('active');\n  // }\n});\n"],"names":["BaseApiResponse","response","FilterModel","filter","name","imgURL","FilterRequest","page","limit","FilterResponse","ExerciseFilter","bodypart","muscles","equipment","keyword","ExerciseModel","result","ExerciseResponse","exercise","ExerciseRatingPatchRequest","rate","email","review","QuoteModel","handleApiError","error","iziToast","API_URL","YourEnergyAPI","axios","filterRequest","exerciseFilter","id","request","yourEnergyAPI","createScrollUpButton","button","Loader","icons","capitalizeFirstLetter","string","FAVORITES_KEY","getFavorites","toggleFavorite","exerciseId","favorites","index","SELECTORS","CLASS_NAMES","closeModalButton","modalContainer","exerciseModal","ratingModal","addToFavoritesButton","currentExerciseId","loadModalData","exerciseData","updateModalContent","updateFavoriteButtonState","addFavoriteButtonListener","handleModalOpen","initRatingForm","clearModalContent","updateStarRating","updateStats","statsList","statsHTML","createStatItem","title","value","isFavorite","event","handleEscapeKey","handleModalClose","closeModal","checkTapInRect","rect","openRatingModalButton","loadRatingModal","clearRatingForm","rating","star","ratingSubmitListener","form","radio","notification","Notification","nextExercise","initModalListeners","starContainer","addStars","starsCount","elements","percent","svg","gradientId","message","ExerciseFilterElement","src","text","alt","ExerciseElement","leftBlock","workoutName","ratingElement","span","startButton","calories","bodyPart","target","_id","className","element","titleElement","iconName","cssClass","svgElement","useElement","ExercisesFilterRenderer","filterButton","filterName","items","item","filterElement","breadcrumb","breadcrumbElement","dots","renderItem","svgClass","svgIcon","renderPreviousButtons","firstButton","previousButton","renderNextButtons","lastButton","nextButton","renderPaginationItem","itemsCount","initialPage","list","i","data","exercises","exerciseElement","searchValue","loader","exerciseRatingRequest","emailInput","_a","showAlert","handleSuccess","navLinks","footerNavLinks","parts","s","currentPath","link"],"mappings":"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"}