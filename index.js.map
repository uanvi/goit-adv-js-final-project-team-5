{"version":3,"file":"index.js","sources":["../src/js/quote.js","../src/js/mobmenu.js"],"sourcesContent":["import yourEnergyAPI from './your-energy-api.js';\n\n(() => {\n  const ROLE = 'quote-of-the-day-container';\n  const storageKey = 'quoteOfTheDay';\n\n  class Quote {\n    #date;\n    /**\n     * @param {Date} date\n     */\n    set date(date) {\n      this.#date = this.#formatDate(date);\n    }\n\n    get date() {\n      return this.#date;\n    }\n\n    /**\n     * @param {String} text\n     * @param {String} author\n     * @param {Date} date\n     */\n    constructor({ text, author, date = null }) {\n      this.text = text;\n      this.author = author;\n      this.date = date || new Date();\n    }\n\n    isFresh() {\n      return this.#date === this.#formatDate(new Date());\n    }\n\n    #formatDate(date) {\n      return date.toISOString().split('T')[0];\n    }\n\n    toJSON() {\n      return {\n        text: this.text,\n        author: this.author,\n        date: this.#date,\n      };\n    }\n  }\n\n  class QuoteProvider {\n    static #load() {\n      const quoteData = JSON.parse(localStorage.getItem(storageKey));\n      if(quoteData) {\n        quoteData.date = new Date(quoteData?.date);\n      }\n      return quoteData ? new Quote(quoteData) : null;\n    }\n\n    static #save(quote) {\n      localStorage.setItem(storageKey, JSON.stringify(quote));\n    }\n\n    static async getQuote() {\n      const storedQuote = this.#load();\n      if (storedQuote?.isFresh()) {\n        return storedQuote;\n      }\n\n      const quote = await yourEnergyAPI.fetchQuoteOfTheDay();\n      const newQuote = new Quote({\n        text: quote.quote,\n        author: quote.author,\n      });\n      this.#save(newQuote);\n\n      return newQuote;\n    }\n  }\n\n  async function renderQuote() {\n    const quoteContainer = document.querySelector(`[data-role=\"${ROLE}\"]`);\n    if (quoteContainer === null) {\n      throw new Error(`Failed to render quote: element with data-role \"${ROLE}\" not found.`);\n    }\n    try {\n      const quote = await QuoteProvider.getQuote();\n      quoteContainer.innerHTML = `\n        <p class=\"quote-text\">${quote.text}</p>\n        <p class=\"quote-author\">${quote.author}</p>\n      `;\n    } catch (e) {\n      console.error('Error fetching quote:', e);\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', renderQuote);\n})();\n","const burgerBtn = document.querySelector('.mac-menu');\nconst closeMenuBtn = document.querySelector('.close-btn');\nconst backdropEl = document.querySelector('.menu-backdrop');\nconst modalEl = document.querySelector('.menu-backdrop>.menu');\n\nfunction toggleMenu() {\n  if (!modalEl.classList.contains('is-open')) {\n    modalEl.classList.add('is-open');\n    backdropEl.addEventListener('click', parseClick);\n    document.addEventListener('keydown', parseKeydown);\n    closeMenuBtn.addEventListener('click', toggleMenu);\n  } else {\n    modalEl.classList.remove('is-open');\n    backdropEl.removeEventListener('click', parseClick);\n    document.removeEventListener('keydown', parseKeydown);\n    closeMenuBtn.removeEventListener('click', toggleMenu);\n  }\n}\n\nburgerBtn.addEventListener('click', toggleMenu);\n\nconst parseKeydown = event => {\n  if (event.code === 'Escape') toggleMenu();\n};\n\nconst parseClick = event => {\n  if (event.target === backdropEl) toggleMenu();\n  const closestLink = event.target.closest('a');\n\n  if (closestLink?.classList.contains('nav-link')) toggleMenu();\n  if (closestLink?.classList.contains('soc-link')) toggleMenu();\n};\n"],"names":["ROLE","storageKey","Quote","text","author","date","__privateAdd","_Quote_instances","_date","__privateSet","__privateMethod","formatDate_fn","__privateGet","QuoteProvider","storedQuote","_QuoteProvider_static","load_fn","quote","yourEnergyAPI","newQuote","save_fn","quoteData","renderQuote","quoteContainer","burgerBtn","closeMenuBtn","backdropEl","modalEl","toggleMenu","parseClick","parseKeydown","event","closestLink"],"mappings":"2cAEC,IAAM,iBACL,MAAMA,EAAO,6BACPC,EAAa,gBAEnB,MAAMC,CAAM,CAkBV,YAAY,CAAE,KAAAC,EAAM,OAAAC,EAAQ,KAAAC,EAAO,IAAI,EAAI,CAlB7CC,EAAA,KAAAC,GACED,EAAA,KAAAE,GAkBE,KAAK,KAAOL,EACZ,KAAK,OAASC,EACd,KAAK,KAAOC,GAAQ,IAAI,IAC9B,CAjBI,IAAI,KAAKA,EAAM,CACbI,EAAA,KAAKD,EAAQE,EAAA,KAAKH,EAAAI,GAAL,UAAiBN,GACpC,CAEI,IAAI,MAAO,CACT,OAAOO,EAAA,KAAKJ,EAClB,CAaI,SAAU,CACR,OAAOI,EAAA,KAAKJ,KAAUE,EAAA,KAAKH,EAAAI,GAAL,UAAiB,IAAI,KACjD,CAMI,QAAS,CACP,MAAO,CACL,KAAM,KAAK,KACX,OAAQ,KAAK,OACb,KAAMC,EAAA,KAAKJ,EACZ,CACP,CACA,CAtCIA,EAAA,YADFD,EAAA,YA4BEI,EAAW,SAACN,EAAM,CAChB,OAAOA,EAAK,YAAa,EAAC,MAAM,GAAG,EAAE,CAAC,CAC5C,EAWE,MAAMQ,CAAc,CAalB,aAAa,UAAW,CACtB,MAAMC,EAAcJ,EAAA,KAAKK,EAAAC,GAAL,WACpB,GAAIF,GAAA,MAAAA,EAAa,UACf,OAAOA,EAGT,MAAMG,EAAQ,MAAMC,EAAc,mBAAoB,EAChDC,EAAW,IAAIjB,EAAM,CACzB,KAAMe,EAAM,MACZ,OAAQA,EAAM,MACtB,CAAO,EACD,OAAAP,EAAA,KAAKK,EAAAK,GAAL,UAAWD,GAEJA,CACb,CACA,CA5BEJ,EAAA,YACSC,EAAK,UAAG,CACb,MAAMK,EAAY,KAAK,MAAM,aAAa,QAAQpB,CAAU,CAAC,EAC7D,OAAGoB,IACDA,EAAU,KAAO,IAAI,KAAKA,GAAA,YAAAA,EAAW,IAAI,GAEpCA,EAAY,IAAInB,EAAMmB,CAAS,EAAI,IAChD,EAEWD,EAAK,SAACH,EAAO,CAClB,aAAa,QAAQhB,EAAY,KAAK,UAAUgB,CAAK,CAAC,CAC5D,EAXEX,EAAMO,EAANE,GA8BA,eAAeO,GAAc,CAC3B,MAAMC,EAAiB,SAAS,cAAc,eAAevB,CAAI,IAAI,EACrE,GAAIuB,IAAmB,KACrB,MAAM,IAAI,MAAM,mDAAmDvB,CAAI,cAAc,EAEvF,GAAI,CACF,MAAMiB,EAAQ,MAAMJ,EAAc,SAAU,EAC5CU,EAAe,UAAY;AAAA,gCACDN,EAAM,IAAI;AAAA,kCACRA,EAAM,MAAM;AAAA,OAEzC,OAAQ,EAAG,CACV,QAAQ,MAAM,wBAAyB,CAAC,CAC9C,CACA,CAEE,SAAS,iBAAiB,mBAAoBK,CAAW,CAC3D,GAAI,EC9FJ,MAAME,EAAY,SAAS,cAAc,WAAW,EAC9CC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAU,SAAS,cAAc,sBAAsB,EAE7D,SAASC,GAAa,CACfD,EAAQ,UAAU,SAAS,SAAS,GAMvCA,EAAQ,UAAU,OAAO,SAAS,EAClCD,EAAW,oBAAoB,QAASG,CAAU,EAClD,SAAS,oBAAoB,UAAWC,CAAY,EACpDL,EAAa,oBAAoB,QAASG,CAAU,IARpDD,EAAQ,UAAU,IAAI,SAAS,EAC/BD,EAAW,iBAAiB,QAASG,CAAU,EAC/C,SAAS,iBAAiB,UAAWC,CAAY,EACjDL,EAAa,iBAAiB,QAASG,CAAU,EAOrD,CAEAJ,EAAU,iBAAiB,QAASI,CAAU,EAE9C,MAAME,EAAeC,GAAS,CACxBA,EAAM,OAAS,UAAUH,EAAY,CAC3C,EAEMC,EAAaE,GAAS,CACtBA,EAAM,SAAWL,GAAYE,EAAY,EAC7C,MAAMI,EAAcD,EAAM,OAAO,QAAQ,GAAG,EAExCC,GAAA,MAAAA,EAAa,UAAU,SAAS,aAAaJ,EAAY,EACzDI,GAAA,MAAAA,EAAa,UAAU,SAAS,aAAaJ,EAAY,CAC/D"}