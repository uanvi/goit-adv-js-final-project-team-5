var w=t=>{throw TypeError(t)};var _=(t,e,s)=>e.has(t)||w("Cannot "+s);var g=(t,e,s)=>(_(t,e,"read from private field"),s?s.call(t):e.get(t)),f=(t,e,s)=>e.has(t)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),E=(t,e,s,r)=>(_(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),u=(t,e,s)=>(_(t,e,"access private method"),s);import{a as R}from"./assets/vendor-DYiOAYln.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();class b{constructor(e){this.page=e.page,this.perPage=e.perPage,this.totalPages=e.totalPages,this.results=e.results}}class T{constructor(e,s,r){this.filter=e,this.name=s,this.imgURL=r}}class L{constructor(e,s,r){this.filter=e,this.page=s,this.limit=r}}class I extends b{constructor(e){super(e)}getFilters(){return this.results.map(e=>new T(e.filter,e.name,e.imgURL))}}class O{constructor(e,s,r,o,n=1,a=10){this.bodypart=e,this.muscles=s,this.equipment=r,this.keyword=o,this.page=n,this.limit=a}}class y{constructor(e){this.id=e._id,this.bodyPart=e.bodyPart,this.equipment=e.equipment,this.gifUrl=e.gifUrl,this.name=e.name,this.target=e.target,this.description=e.description,this.rating=e.rating,this.burnedCalories=e.burnedCalories,this.time=e.time,this.popularity=e.popularity}}class S extends b{constructor(e){super(e)}getExercises(){return this.results.map(e=>new y(e))}}class C{constructor(e,s,r){this.rate=e,this.email=s,this.review=r}}class D{constructor(e){this.quote=e.quote,this.author=e.author}}const A="https://your-energy.b.goit.study/api";class B{constructor(){this._api=R.create({baseURL:A,headers:{"Content-Type":"application/json"}})}async fetchFilters(e){try{const s=await this._api.get("/filters",{params:e});return new I(s.data)}catch(s){throw console.error("Error fetching filters:",s),s}}async fetchExercisesByFilter(e){try{const s=await this._api.get("/exercises",{params:e});return new S(s.data)}catch(s){throw console.error("Error fetching exercises by filter:",s),s}}async fetchExercisesById(e){try{const s=await this._api.get(`/exercises/${e}`);return new y(s.data)}catch(s){throw console.error("Error fetching exercises by ID:",s),s}}async patchExerciseRating(e,s){try{const r=await this._api.patch(`/exercises/${e}/rating`,s);return new y(r.data)}catch(r){throw console.error("Error updating exercise rating:",r),r}}async fetchQuoteOfTheDay(){try{const e=await this._api.get("/quote");return new D(e.data)}catch(e){throw console.error("Error fetching quote of the day:",e),e}}async postSubscription(e){try{return(await this._api.post("/subscription",{email:e})).data.message}catch(s){throw console.error("Error posting subscription:",s),s}}}const c=new B;(()=>{var n,a,x,h,q,P;const t="quote-of-the-day-container",e="quoteOfTheDay";class s{constructor({text:i,author:m,date:p=null}){f(this,a);f(this,n);this.text=i,this.author=m,this.date=p||new Date}set date(i){E(this,n,u(this,a,x).call(this,i))}get date(){return g(this,n)}isFresh(){return g(this,n)===u(this,a,x).call(this,new Date)}toJSON(){return{text:this.text,author:this.author,date:g(this,n)}}}n=new WeakMap,a=new WeakSet,x=function(i){return i.toISOString().split("T")[0]};class r{static async getQuote(){const i=u(this,h,q).call(this);if(i!=null&&i.isFresh())return i;const m=await c.fetchQuoteOfTheDay(),p=new s({text:m.quote,author:m.author});return u(this,h,P).call(this,p),p}}h=new WeakSet,q=function(){const i=JSON.parse(localStorage.getItem(e));return i&&(i.date=new Date(i==null?void 0:i.date)),i?new s(i):null},P=function(i){localStorage.setItem(e,JSON.stringify(i))},f(r,h);async function o(){const d=document.querySelector(`[data-role="${t}"]`);if(d===null)throw new Error(`Failed to render quote: element with data-role "${t}" not found.`);try{const i=await r.getQuote();d.innerHTML=`
        <p class="quote-text">${i.text}</p>
        <p class="quote-author">${i.author}</p>
      `}catch(i){console.error("Error fetching quote:",i)}}document.addEventListener("DOMContentLoaded",o)})();function F(t){return t.charAt(0).toUpperCase()+t.slice(1)}class N{constructor(){this._element=document.createElement("li"),this._element.classList.add("exercises-filters__item"),this._image=document.createElement("img"),this._image.classList.add("exercises-filters__image"),this._image.setAttribute("loading","lazy"),this._overlay=document.createElement("div"),this._overlay.classList.add("exercises-filters__overlay"),this._overlayTitle=document.createElement("h5"),this._overlayText=document.createElement("p"),this._overlayText.classList.add("exercises-filters__overlay-text")}setImage(e){this._image.src=e}setTitle(e){this._overlayTitle.textContent=F(e)}setText(e){this._overlayText.textContent=F(e)}setFilterName(e,s){this._element.dataset.name=e,this._element.dataset.filter=s}setImageAlt(e){this._image.alt=e}build(){return this._overlay.append(this._overlayTitle,this._overlayText),this._element.append(this._image,this._overlay),this._element}}class U{constructor(){if(this._exercisesFilterParent=document.getElementById("exercises-filters"),this._exercisesParent=document.getElementById("exercises-list"),!this._exercisesFilterParent)throw new Error("Exercises filter parent element not found");this._breadcrumbs=document.querySelector(".breadcrumbs"),this._page=1,this._limit=12,this._pages=1,this._elements=[]}async init(){this._setPageLimit(),await this._fetchFilters(),this._renderFilters(),this._addEventListeners()}_setPageLimit(){this._pages=1,window.innerWidth<=768?this._limit=9:this._limit=12}async _fetchFilters(){const e=this._exercisesFilterParent.querySelector(".exercises-filters__selected");if(!e)throw new Error("Filter button not found");const s=e.dataset.name,r=new L(s,this._page,this._limit);try{const o=await c.fetchFilters(r),n=o.getFilters();n.length>0&&(this._elements=n.map(a=>{const l=new N;return l.setImage(a.imgURL),l.setTitle(a.name),l.setText(a.filter),l.setFilterName(a.name,a.filter),l.setImageAlt(a.name),l.build()})),this._pages=o.totalPages}catch(o){console.error("Error fetching filters:",o)}}_renderFilters(){this._exercisesParent.innerHTML="",this._exercisesParent.append(...this._elements)}_onCardClick(e){}async _onFilterClick(e){e.preventDefault(),this._setPageLimit(),this._exercisesFilterParent.querySelectorAll(".exercises-filters__selected").forEach(r=>{r.classList.remove("exercises-filters__selected")}),e.target.classList.add("exercises-filters__selected"),await this._fetchFilters(),this._renderFilters()}_addEventListeners(){this._exercisesFilterParent.addEventListener("click",this._onFilterClick.bind(this))}}const $=new U;$.init();const M=new L("Body parts",1,5);c.fetchFilters(M).then(t=>{console.log("Response:",t),console.log("Filters:",t.getFilters())}).catch(t=>{console.error("Error:",t)});const Q=new O("back","lats","barbell","pull",1,5);c.fetchExercisesByFilter(Q).then(t=>{console.log("Response:",t),console.log("Exercises:",t.getExercises())}).catch(t=>{console.error("Error:",t)});const v="64f389465ae26083f39b1ab2";c.fetchExercisesById(v).then(t=>{console.log("Response:",t)}).catch(t=>{console.error("Error:",t)});const J=new C(3,`test${Date.now()}@gmail.com`,"Great exercise! Very effective.");c.patchExerciseRating(v,J).then(t=>{console.log("Response:",t)}).catch(t=>{console.error("Error:",t)});const z=`sub_test${Date.now()}@gmail.com`;c.postSubscription(z).then(t=>{console.log("Subscription Response:",t)}).catch(t=>{console.error("Error:",t)});
//# sourceMappingURL=index.js.map
